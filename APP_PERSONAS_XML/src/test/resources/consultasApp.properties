SQL.CABFFTARJ.consultarDetalleTarjetaEprepago=SELECT PNROPSEU, PESTADO, ANOVTO, MESVTO, NROTADIC FROM CABLIBRAMD.CABFFTARJ AS A, CABLIBRAMD.CABFFCTAS AS B, TCBLIBRAMD.TCBFFMAE AS C, CABLIBRAMD.CABFFPPMAE AS D WHERE TJNRODOC = ? AND TJNROBCO = ? AND TJCLSDOC = ? AND SUBSTRING(A.TJNROTRJ ,2) = SUBSTRING(B.CANROTRJ,2) AND SUBSTRING(A.TJNROTRJ,2) = C.CUENTA AND CONCAT(C.PREFIJO,C.OFICINA)CONCAT(C.CUENTA) = D.PNROBASE LIMIT 1
SQL.CABFFTARJ.validarRegistroEprepago=SELECT TJESTADO, TJNROBCO, TJNROTRJ, TJPRIAPE, TJSEGAPE, TJNOMBRE, TJNRODOC, TJCLSDOC, TJFECGEN FROM CABLIBRAMD.CABFFTARJ WHERE TJNROBCO=107 and TJNRODOC=:DOCUMENTO
SQL.CABFFCTAS.validarRegistroEprepago=SELECT CAESTADO, CANROBCO, CANROTRJ, CANROCLV, CACLSCTA, CANROOFC, CANROCTA FROM CABLIBRAMD.CABFFCTAS WHERE CANROTRJ =(SELECT TJNROTRJ FROM CABLIBRAMD.CABFFTARJ WHERE TJNROBCO=107 and TJNRODOC=?)
SQL.TCBFFMAE.validarRegistroEprepago=SELECT PREFIJO, OFICINA, CUENTA, NIT, TIPONIT, NROTADIC, ANOING, MESING, ANOVTO, MESVTO FROM TCBLIBRAMD.TCBFFMAE WHERE NIT =? and CUENTA = (SELECT TJNROTRJ FROM CABLIBRAMD.CABFFTARJ WHERE TJNROBCO=107 and TJNRODOC=?)
SQL.CABFFPPMAE.validarRegistroEprepago=SELECT PNROPSEU, PNROBASE, PESTADO, PTIPO, PFECING, PFECNOV FROM CABLIBRAMD.CABFFPPMAE WHERE PNROBASE = (SELECT (PREFIJO || OFICINA || CUENTA) as NROBASE FROM TCBLIBRAMD.TCBFFMAE WHERE NIT =? and CUENTA =(SELECT TJNROTRJ FROM CABLIBRAMD.CABFFTARJ WHERE TJNROBCO=107 and TJNRODOC=?) ) LIMIT 1
SQL.COMFFLGWWW.verificarTerminosyCondiciones=SELECT TIPOMSG, SUBSTR(DATOS,317,15) as DOC, SUBSTR(DATOS,437,5 ) as VERSION,SUBSTR(DATOS,442,8 ) as FECHA FROM COMLIBRAMD/COMFFLGWWW WHERE SUBSTR(DATOS,317,15) = :DOCUMENTO and codtrn ='1226' and TIPOMSG = '0230'
SQL.CABFFPPAUT.consolidado=SELECT NROBASE, TPOAUT, FECHAUT, HORASIS, NOMESTA, VALOR, VLRCOMI, VLRTRM, MONEDA FROM CABLIBRAMD.CABFFPPAUT WHERE NROBASE=? AND FECHAUT=? ORDER BY FECHAUT DESC, HORASIS
SQL.CABFFPPAUT.descripcion=SELECT NROBASE, TPOAUT, FECHAUT, HORASIS, NOMESTA, VALOR, VLRCOMI, VLRTRM, MONEDA FROM CABLIBRAMD.CABFFPPAUT WHERE NROBASE=? AND UPPER(NOMESTA) LIKE ? ORDER BY FECHAUT DESC , HORASIS DESC
SQL.CABFFPPAUT.fechas=SELECT NROBASE, TPOAUT, FECHAUT, HORASIS, NOMESTA, VALOR, VLRCOMI, VLRTRM, MONEDA FROM CABLIBRAMD.CABFFPPAUT WHERE NROBASE=? AND FECHAUT >= ? AND FECHAUT <= ? ORDER BY FECHAUT DESC , HORASIS DESC
SQL.CABFFPPAUT.fechasYdescripcion=SELECT NROBASE, TPOAUT, FECHAUT, HORASIS, NOMESTA, VALOR, VLRCOMI, VLRTRM, MONEDA FROM CABLIBRAMD.CABFFPPAUT WHERE NROBASE=? AND UPPER(NOMESTA) LIKE ? AND FECHAUT >= ? AND FECHAUT <= ? ORDER BY FECHAUT DESC , HORASIS DESC
SQL.WWWFFUSRSV.verificarUsuariosVirtuales=SELECT TIPOIDE, NROIDEN, IDUSUARIO, ESTADO, CANALINS, USUARIOADM,FECHAINS, FECHANOV, CANALNOV, USRNOVADM, CAMUSR1, CAMUSR2, CAMUSR3,CAMUSR4, CAMUSR5, CAMUSR6 FROM WWWLIBRAMD.WWWFFUSRSV WHERE NROIDEN=? AND TIPOIDE =?
SQL.WWWFFLGTYC.verificarTerminosyCondicionesRegistro=SELECT TCVERSION,TCODIGOTRX, FECHA FROM WWWLIBRAMD.WWWFFTERMC AS A,WWWLIBRAMD.WWWFFTXTYC AS B,WWWLIBRAMD.WWWFFLGTYC AS C WHERE A. TCIDTERM = (SELECT  "VERSION" FROM WWWLIBRAMD.WWWFFLGTYC WHERE TIPODOC=? AND DOCUMENTO = ? ORDER BY HORA DESC LIMIT 1) AND A.TCIDTRANS = B.TIDTRANS AND C.DOCUMENTO = ? ORDER BY HORA DESC LIMIT 1
SQL.CADDR.verificarCorreoRegistro=SELECT * FROM VISIONR.CADDR WHERE CANAMK = (SELECT CNNAMK FROM VISIONR.CNAME WHERE CNNOSS =? AND CNCDTI= ?) AND CAADD1 LIKE '%@%' ORDER BY CATDOP  DESC LIMIT 1
SQL.CABFFPPAUT.registro=SELECT NROBASE, TPOAUT, FECHAUT, HORASIS, NOMESTA, VALOR, VLRCOMI, VLRTRM, MONEDA FROM CABLIBRAMD.CABFFPPAUT WHERE NROBASE=? AND FECHAUT=? AND HORASIS>=? AND VALOR=? ORDER BY HORASIS DESC LIMIT 1
SQL.COMFFLGWWW.tramaDatos0220=SELECT DATOS FROM COMLIBRAMD.COMFFLGWWW WHERE SUBSTR(CLVTRN, 9, 21) = :TRACE and TIPOMSG = 0220
SQL.COMFFLGWWW.tramaDatos_0220_0230=SELECT DATOS FROM COMLIBRAMD.COMFFLGWWW WHERE SUBSTR(CLVTRN, 9, 21) = :TRACE
SQL.SCIFFMRCMV.MovimientoDeposito=SELECT * FROM SCILIBRAMD.SCIFFMRCMV WHERE MOVCODCTA = :CUENTA AND MOVTIPCTA = :TIPOCUENTA AND MOVFECEFC = :FECHA AND MOVVLREFC = :MONTO AND MOVNATTRN = :NATURALEZA AND MOVHRARCB > :HORA ORDER BY 2 DESC FETCH FIRST 1 ROW ONLY
SQL.PCCFFMOVTF.consultarIdSistemaDebCre=SELECT MVIDENTI FROM PCCLIBRAMD.PCCFFMOVTF where MVDIACLA = :DIA AND MVCTADB = :CUENTADEBITO AND MVTIPCDB = :TIPOCUENTADEBITO AND MVCTACR = :CUENTACREDITO AND MVTIPCCR = :TIPOCUENTACREDITO ORDER BY MVHOR DESC, MVMIN DESC, MVSEG DESC LIMIT 1
SQL.PCCFFLOGTF.consultarRegistroLogTf=SELECT * FROM PCCLIBRAMD.PCCFFLOGTF WHERE LGDATOS LIKE :IDSISTEMA
SQL.PCCFFMOVTFLOGTF.consultarRegistroDeb=SELECT PCCLIBRAMD.PCCFFLOGTF.* FROM PCCLIBRAMD.PCCFFLOGTF WHERE substr(LGDATOS, 106, 10) IN (SELECT MVIDENTI FROM PCCLIBRAMD.PCCFFMOVTF WHERE MVDIACLA=:DIA AND MVCTADB=:CUENTADEBITO AND MVTIPCDB=:TIPOCUENTADEBITO ORDER BY MVHOR DESC, MVMIN DESC,MVSEG DESC LIMIT 1)
SQL.PCCFFMOVTFLOGTF.consultarRegistroCre=SELECT PCCLIBRAMD.PCCFFLOGTF.* FROM PCCLIBRAMD.PCCFFLOGTF WHERE substr(LGDATOS, 106, 10) IN (SELECT MVIDENTI FROM PCCLIBRAMD.PCCFFMOVTF WHERE MVDIACLA=:DIA AND MVCTACR=:CUENTACREDITO AND MVTIPCCR=:TIPOCUENTACREDITO ORDER BY MVHOR DESC, MVMIN DESC,MVSEG DESC LIMIT 1)
SQL.SCIFFSALDO.consultarSaldo=SELECT SDSDODSP, SDFLTDSP, SDDSPINI1, SDTIPOSOB, SDPLAN, SDSDOINIC, SDRETINIC, SDRETACT, SDVLREMB, SDFLTINIC, SDSDOMIN, SDTPEFLT, SDNOTACR, SDNOTADB, SDTPESOB FROM SCILIBRAMD.SCIFFSALDO WHERE SDCUENTA=:CUENTA AND SDTIPOCTA=:TIPOCUENTA
SQL.CPSFFMAECP.consultarDetalleCrediAgil=SELECT CUPOASIG, CUPOUTIL,(CUPOUTIL -VLRUSU1) CANJE, (CUPOASIG-CUPOUTIL) DISPONIBLE FROM CPSLIBRAMD.CPSFFMAECP WHERE NIT LIKE :NIT AND CODPLAN = 'P04'
SQL.PCCFFLGAEN.consultaClaveDinamica=SELECT SUBSTR(AENMSGENV,42,6) AS AENMSGENV FROM PCCLIBRAMD.PCCFFLGAEN WHERE AENNROIDE = :DOCUMENTO AND AENFECHA = :FECHA AND AENTPOMSG = '0220' AND AENCODOPE = '315' AND AENCANOPE = :CANAL AND AENHORA >= :HORA ORDER BY AENHORA DESC FETCH FIRST 1 ROW ONLY
